# =============================================================================
# RASPBERRY PI COLLECTOR CONFIGURATION
# Copy this to .env and edit with your values
# =============================================================================

# Your Vercel deployment URL
REMOTE_API_URL=https://telemetry.srof.com.au/api/ingest

# Must match INGEST_API_KEY in your Vercel environment
API_KEY=your-secret-key-here

# MQTT broker (usually localhost if running Mosquitto on the Pi)
MQTT_BROKER=localhost
MQTT_PORT=1883

# =============================================================================
# MULTI-INSTRUMENT CONFIGURATION
# Each instrument type supports up to 3 devices.
# Leave IP/HOST empty to disable that slot.
# Instrument codes are auto-generated from serial numbers when available,
# otherwise from IP address.
# =============================================================================

# -----------------------------------------------------------------------------
# SQM-LE Devices (Unihedron Sky Quality Meter)
# Serial number is extracted from device response (unit id)
# -----------------------------------------------------------------------------
SQM_1_HOST=192.168.1.101
SQM_1_PORT=10001

SQM_2_HOST=
SQM_2_PORT=10001

SQM_3_HOST=
SQM_3_PORT=10001

# -----------------------------------------------------------------------------
# Davis WeatherLink Live Devices
# Logical Sensor ID (lsid) is used as unique identifier
# -----------------------------------------------------------------------------
DAVIS_1_HOST=192.168.1.102
DAVIS_1_INTERVAL=30

DAVIS_2_HOST=
DAVIS_2_INTERVAL=30

DAVIS_3_HOST=
DAVIS_3_INTERVAL=30

# -----------------------------------------------------------------------------
# AAG Cloudwatcher Devices
# Serial number is extracted from /cgi-bin/cgiDebugData endpoint
# Also supports MQTT (topics: cloudwatcher/# or aag/#)
# -----------------------------------------------------------------------------
CLOUDWATCHER_1_HOST=192.168.1.100
CLOUDWATCHER_1_INTERVAL=30

CLOUDWATCHER_2_HOST=
CLOUDWATCHER_2_INTERVAL=30

CLOUDWATCHER_3_HOST=
CLOUDWATCHER_3_INTERVAL=30

# AllSky camera configuration
# Option 1: Local file path (checked first)
ALLSKY_IMAGE_PATH=/home/pi/allsky/tmp/image.jpg
# Option 2: URL fallback (used if file doesn't exist or is too old)
# ALLSKY_IMAGE_URL=http://192.168.1.50/current/image.jpg

# How often to push data (seconds)
PUSH_INTERVAL=60

# BOM Satellite and Radar imagery (fetched via FTP and pushed to API)
# Set to false to disable satellite/radar image fetching
BOM_SATELLITE_ENABLED=true
BOM_SATELLITE_INTERVAL=600

# BOM Radar station code - find yours at https://www.bom.gov.au/australia/radar/
# Common stations: 71=Sydney (Terrey Hills), 66=Brisbane (Mt Stapylton),
#                  02=Melbourne, 70=Perth, 64=Adelaide
# Leave empty to disable radar imagery
BOM_RADAR_STATION=71

# Logging: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# =============================================================================
# NUT UPS MONITORING
# Monitors UPS status via Network UPS Tools (NUT)
# Install NUT on the Pi: sudo apt install nut nut-client
# Configure upsd to allow connections, then set the UPS name below
# =============================================================================
# NUT server host (usually localhost if running on same machine)
NUT_HOST=localhost
NUT_PORT=3493
# UPS name as configured in ups.conf (leave empty to disable UPS monitoring)
NUT_UPS_NAME=
